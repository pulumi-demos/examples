# Python Automation API Example
Provides an example of using automation API using Python.

## Main Talking Points
* Shows the automation API SDK in action.
  * Show how you are basically doing `pulumi up` and `pulumi destroy`, etc in code instead of command line.
* This code can then be plugged into a web-service or similar system to enable self-service, etc.
* Although the `arrangements.yaml` file is hand-crafted in this example, it could be generated by parsing the folders containing the Pulumi projects.

## Main Components of the Example

* `arrangements.yaml`: This file captures the information needed for the orchestration logic. Specifically, it provides information on how to find and run specific stacks including multi-stack use-cases. It is hand-crafted to allow you to demo what you want. 
* `utils`: This folder contains various utilities including the orchestration logic used to deploy the stacks. It is called by the `automation.py`.
* `automation.py`: This is the main program that executes the orchestration automation.

## Running the Example

* Set up venv
  ```bash
  $ python3 -m venv venv
  $ source ./venv/bin/activate
  ```
* Install packages
  ```bash
  $ pip install -r requirements.txt
  ```
* Modify the `arrangements.yaml` file as you wish or use it as-is.
* Run `python ./automation.py` for USAGE information
  * e.g. `python ./automation.py -a "WordPress on ECS" -o MyOrgName -s dev`

